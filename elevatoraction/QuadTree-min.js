function QTree(){this.root=new QNode(0,0,Crafty.window.width,Crafty.window.height)}QTree.prototype={subs:4,find:function(a,e,b,c){if(typeof a==="object"){e=a.y;b=a.w;c=a.h;a=a.x}var d=this.root.find(a,e,b,c);if(d){return d.obj}return false},put:function(a,d,c){var b;b=this.root.find(a,d,1,1);if(b){b.obj.push(c);if(b.obj.length>4){b.divide()}}else{console.log("NONE FOUND")}}};function QNode(a,d,b,c){this.x=a;this.y=d;this.w=b;this.h=c}QNode.prototype={nw:null,ne:null,sw:null,se:null,obj:[],divide:function(){if(this.nw&&this.ne&&this.sw&&this.se){return}var a=Math.ceil(this.w/2),e=Math.ceil(this.h/2),d=0,b=this.obj.length,c,f;this.nw=new QNode(0,0,a,e);this.ne=new QNode(a,0,a,e);this.sw=new QNode(0,e,a,e);this.se=new QNode(a,e,a,e);for(;d<b;d++){c=this.obj[d];f=this.find(c.x,c.y,1,1);if(!f){console.log("NO NODE FOUND",f)}f.obj.push(c);if(f.obj.length>4){f.divide()}}this.obj=null},find:function(a,d,b,c){if(this.x<a+b&&this.x+this.w>a&&this.y<d+c&&this.h+this.y>d){if(this.nw&&this.ne&&this.sw&&this.se){return this.nw.find(a,d,b,c)||this.ne.find(a,d,b,c)||this.sw.find(a,d,b,c)||this.se.find(a,d,b,c)}else{return this}}else{return false}}};